ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
p1 <- ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
p1
wrap_plots(p1, p2)
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN DIEGO", "RIVERSIDE", "SAN BERNADINO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1, p2)
wrap_plots(p1 | p2)
wrap_plots(p1 / p2)
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN DIEGO", "RIVERSIDE", "SAN BERNADINO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_socal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1 / p2)
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN DIEGO", "RIVERSIDE", "SAN BERNADINO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_socal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Socal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1 / p2)
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_brewer(palette = "Set2") +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN BERNARDINO", "ORANGE", "VENTURA", "SAN DIEGO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_socal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Socal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1 / p2)
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN BERNARDINO", "ORANGE", "VENTURA", "SAN DIEGO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_socal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Socal select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1 / p2)
library(tidyverse)
library(patchwork)
library(maps)
library(mapproj)
CA_electricity_county <- read_csv("ElectricityByCounty.csv")
CA_electricity_county_pivot <- CA_electricity_county |>
mutate("Total Usage" = NULL) |>
pivot_longer(
cols = c("1990":"2022"),
names_to = "year",
values_to = "GWh"
)|>
transform(year = as.numeric(year))
number_of_counties = length(unique(CA_electricity_county_pivot$County))
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map + coord_map() +
labs(
title = "California Map",
subtitle = "with county lines."
)
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
}
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal Select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN BERNARDINO", "ORANGE", "VENTURA", "SAN DIEGO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_socal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Socal Select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1 / p2)
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal Select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN BERNARDINO", "ORANGE", "VENTURA", "SAN DIEGO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_socal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Socal Select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1 / p2)
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map + coord_map() +
labs(
title = "California Map",
subtitle = "with county lines."
)
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
}
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map
}
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map + coord_map() +
}
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map + coord_map()
}
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map + coord_map() +
labs(
title = "California Map",
subtitle = "with county lines."
)
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
}
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map + coord_map() +
labs(
title = "California Map",
subtitle = "with county lines."
) +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
}
library(tidyverse)
library(patchwork)
library(maps)
library(mapproj)
CA_electricity_county <- read_csv("ElectricityByCounty.csv")
CA_electricity_county_pivot <- CA_electricity_county |>
mutate("Total Usage" = NULL) |>
pivot_longer(
cols = c("1990":"2022"),
names_to = "year",
values_to = "GWh"
)|>
transform(year = as.numeric(year))
number_of_counties = length(unique(CA_electricity_county_pivot$County))
if (require("maps")) {
ca_county <- map_data("county", "california")
ca_map <- ggplot(ca_county, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "beige", colour = "lightgreen")
ca_map + coord_map() +
labs(
title = "California Map",
subtitle = "with county lines."
) +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
}
county_filter_norcal <-
c("SAN FRANCISCO", "SANTA CLARA", "ALAMEDA", "SAN MATEO")
p1 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_norcal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Norcal Select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
county_filter_socal <-
c("LOS ANGELES", "SAN BERNARDINO", "ORANGE", "VENTURA", "SAN DIEGO")
p2 <- CA_electricity_county_pivot |>
filter(Sector == "Total") |>
filter(County %in% county_filter_socal) |>
ggplot(aes(year, GWh, color = County)) +
geom_line(linewidth = 1.4) +
labs(
title = "Socal Select County Electricity Consumption",
subtitle = "in GWh combined residential & commercial",
x = "",
y = ""
) +
scale_color_viridis_d() +
theme_classic() +
theme(plot.title = element_text(face = "bold")) +
theme(plot.subtitle = element_text(face = "italic")) +
theme(panel.background = element_rect(fill = "grey97")) +
theme(plot.background = element_rect("grey97")) +
theme(legend.background = element_rect("grey99"))
wrap_plots(p1 / p2)
